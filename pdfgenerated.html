<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Agreement PDF generated.</title>
    <script type="text/javascript">
        HTMLElement.prototype.html = function (str) {
            if (!str) {
                str = '';
            }
            if (str.indexOf('<') >= 0 && (str.indexOf('/>') >= 0 || str.indexOf('</') >= 0)) {
                this.innerHTML = str;
            } else {
                this.innerText = str;
            }
            return this;
        };
        document.addEventListener('DOMContentLoaded', function () {
            var messageDom = document.getElementById('message');
            var queryParams = {};
            var getParams = query => {
                if (!query) {
                    return {};
                }
                return (/^[?#]/.test(query) ? query.slice(1) : query)
                    .split('&')
                    .reduce((params, param) => {
                        let [key, value] = param.split('=');
                        if (key === 'token') {
                            params[key] = value;
                        } else {
                            params[key] = value ? decodeURIComponent(value.replace(/\+/g, ' ')) : '';
                        }
                        return params;
                    }, {});
            };
            queryParams = getParams(location.search);
            console.log(queryParams);
            if (!queryParams.msg) {
                messageDom.innerText = "Invalid request.";
                throw "Invalid request.";
                return false;
            } else {
                if (queryParams.pages) {
                    messageDom.innerText = 'Generated ' + queryParams.msg + ' file of ' + queryParams.pages + ' pages.';
                } else {
                    messageDom.innerText = queryParams.msg;
                }
            }
        }, false);
    </script>
    <style>
        body {
            margin: 0 80px;
            padding: 0 20px;
            background: #ffffff;
            font-size: 1.5em;
            /*transition: background 500ms ease;*/
            font-family: Helvetica, sans-serif;
            color: #424545;
        }

        p {
            margin: 0 !important;
        }
        /* h1 {
            font-size: 4em;
        }
        h2 {
            font-size: 3em;
        }
        h3 {
            font-size: 2em;
        } */
    </style>
</head>

<body>
    <a data-label="Logo" href="/#/">
        <img class="logoMain" data-test="app-header-logo" height="100px" alt="MySite" src="../views/home/logo9.png">
    </a>
    <h4 id="message" style="text-align: center;">PDF generated for clientId1.</h4>
    <a data-label="client1" href="/">Back to home.</a>

</body>

</html>